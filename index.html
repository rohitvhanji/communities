<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balegere - Sobha Sentosa Map</title>
    <link rel="icon" type="image/x-icon" href="https://www.google.com/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        #map {
            height: 500px;
            width: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold text-center mb-6">Sobha Sentosa in Balegere</h1>
        
        <!-- Map -->
        <div id="map" class="bg-white p-4 rounded-lg shadow-md mb-6"></div>

        <!-- Community List -->
        <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">Community</h2>
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="p-2 border">Area</th>
                        <th class="p-2 border">Society Name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="p-2 border">Balegere</td>
                        <td class="p-2 border">Sobha Sentosa</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk&libraries=marker"></script>
    <script>
        function initMap() {
            const coordinates = {
                lat: 12.9416,
                lng: 77.7637
            };
            let map;
            try {
                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 15,
                    center: coordinates,
                    scrollwheel: false,
                    mapId: '46ba8d1b526fee4a'
                });

                // Add marker for Sobha Sentosa
                const marker = new google.maps.marker.AdvancedMarkerElement({
                    position: coordinates,
                    map: map,
                    content: createMarkerElement('Sobha Sentosa'),
                    title: 'Sobha Sentosa'
                });
            } catch (e) {
                console.error('Map initialization failed:', e);
                document.getElementById('map').innerHTML = '<p class="text-center text-red-500">Failed to load map. Please check API key or Map ID.</p>';
            }
        }

        function createMarkerElement(labelText) {
            const markerDiv = document.createElement('div');
            markerDiv.innerHTML = `
                <div style="position: relative; text-align: center;">
                    <img src="https://maps.google.com/mapfiles/ms/icons/red-dot.png" style="width: 32px; height: 32px;" />
                    <div style="position: absolute; top: -32px; left: 50%; transform: translateX(-50%); color: #C70E20; font-weight: bold; white-space: nowrap;">
                        ${labelText}
                    </div>
                </div>
            `;
            return markerDiv;
        }

        google.maps.event.addDomListener(window, "load", initMap);
    </script>
</body>
</html>
